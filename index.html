<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Katalog fryzur mƒôskich - znajd≈∫ idealnƒÖ fryzurƒô dla siebie">
    <meta name="keywords" content="fryzury mƒôskie, katalog fryzur, fryzjer, stylizacja">
    <title>Katalog Fryzur Mƒôskich</title>
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üíá</text></svg>">
    
    <!-- CSS -->
    <link rel="stylesheet" href="css/style.css?v=5">
    <link rel="stylesheet" href="css/components.css?v=5">
    <link rel="stylesheet" href="css/responsive.css?v=5">
    <link rel="stylesheet" href="css/relations-editor.css?v=1">
</head>
<body>
    <div class="container">
        <!-- HEADER -->
        <header>
            <h1>Katalog Fryzur Mƒôskich</h1>
            <nav class="nav-tabs">
                <button class="nav-tab active" data-tab="catalog">
                    Katalog fryzur
                </button>
                <button class="nav-tab" data-tab="builder">
                    Wybierz swojƒÖ fryzurƒô
                </button>
            </nav>
        </header>

        <!-- MAIN CONTENT -->
        <main>
            <!-- KATALOG -->
            <section id="catalog" class="content-section active">
                <div class="filters-header">
                    <button id="toggle-filters-btn" class="btn btn-secondary">
                        üîß Filtry
                    </button>
                    <button id="favorites-filter-btn" class="btn btn-secondary" title="Poka≈º polubione fryzury">
                        ‚ù§Ô∏è Polubione
                    </button>
                </div>
                <div id="filters-panel" class="filters-panel collapsed">
                    <div class="filters">
                    <select id="filter-length" aria-label="Filtruj wed≈Çug d≈Çugo≈õci">
                        <option value="all">D≈Çugo≈õƒá w≈Ços√≥w</option>
                        <option value="Kr√≥tkie">Kr√≥tkie</option>
                        <option value="≈örednie">≈örednie</option>
                        <option value="D≈Çugie">D≈Çugie</option>
                    </select>
                    <select id="filter-style" aria-label="Filtruj wed≈Çug stylu">
                        <option value="all">Styl</option>
                        <option value="Klasyczny">Klasyczny</option>
                        <option value="Nowoczesny">Nowoczesny</option>
                        <option value="Retro">Retro</option>
                        <option value="Alternatywny">Alternatywny</option>
                    </select>
                </div>
                </div>
                </div>
                <div id="catalog-grid" class="cards-grid"></div>
            </section>

            <!-- BUILDER -->
            <section id="builder" class="content-section">
                <div class="builder-container">
                    <div class="builder-filters">
                        <div class="builder-info">
                            <h3>Wybierz preferencje:</h3>
                            <p>Na podstawie Twoich wybor√≥w dopasujemy idealnƒÖ fryzurƒô</p>
                        </div>

                        <div class="filter-group">
                            <label for="builder-sides">Boki</label>
                            <select id="builder-sides">
                                <option value="mid-fade">Mid fade (≈õrednie wygolenie)</option>
                                <option value="low-fade">Low fade (niskie wygolenie)</option>
                                <option value="high-fade">High fade (wysokie wygolenie)</option>
                                <option value="undercut">Undercut (podciƒôcie)</option>
                                <option value="uniform">Jednolite</option>
                                <option value="long">D≈Çugie</option>
                            </select>
                        </div>

                        <div class="filter-group">
                            <label for="builder-top">G√≥ra</label>
                            <select id="builder-top">
                                <option value="with-volume">Z objƒôto≈õciƒÖ</option>
                                <option value="slick">Zaczesane</option>
                                <option value="textured">Teksturowane</option>
                                <option value="messy">Rozczochrane</option>
                                <option value="short">Kr√≥tkie</option>
                                <option value="long">D≈Çugie</option>
                            </select>
                        </div>

                        <div class="filter-group">
                            <label for="builder-bangs">Grzywka</label>
                            <select id="builder-bangs">
                                <option value="with-texture">Z teksturƒÖ</option>
                                <option value="swept">Zaczesana</option>
                                <option value="curtain">Kurtynowa</option>
                                <option value="none">Brak</option>
                                <option value="long">D≈Çuga</option>
                            </select>
                        </div>

                        <div class="filter-group">
                            <label for="builder-style">Styl</label>
                            <select id="builder-style">
                                <option value="modern">Nowoczesny</option>
                                <option value="classic">Klasyczny</option>
                                <option value="retro">Retro</option>
                                <option value="alternative">Alternatywny</option>
                            </select>
                        </div>
                    </div>

                    <div id="match-result" class="match-result"></div>
                </div>
            </section>

            <!-- ADMIN -->
            <section id="admin" class="content-section">
                <div class="admin-header">
                    <h2>Edytor</h2>
                    <button class="btn btn-primary" id="add-hairstyle-btn">
                        ‚ûï Dodaj nowƒÖ fryzurƒô
                    </button>
                    <button class="btn btn-secondary" id="export-json-btn" style="margin-left:10px;">
                        ‚¨áÔ∏è Eksportuj do JSON
                    </button>
                </div>
                <div id="admin-list" class="admin-list"></div>
                <div style="display:flex;justify-content:flex-end;margin-top:30px;">
                                <button class="btn btn-secondary" id="export-json-btn-bottom" style="margin-left:10px;">
                                    ‚¨áÔ∏è Eksportuj do JSON
                                </button>
                            </div>
                <div id="relations-editor" style="margin-top:40px;"></div>
                            
            </section>
        </main>

        <!-- FOOTER -->
        <footer>
            <div class="footer-content">
                <p>¬© 2025 Katalog Fryzur Mƒôskich</p>
                <button class="nav-tab" data-tab="admin">
                    ‚öôÔ∏è Admin
                </button>
            </div>
        </footer>
    </div>

    <!-- MODAL -->
    <div id="modal" class="modal" role="dialog" aria-labelledby="modal-title" aria-hidden="true">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modal-title">Edytuj fryzurƒô</h2>
                <button class="modal-close" id="modal-close" aria-label="Zamknij">‚úï</button>
            </div>
            
            <form id="hairstyle-form">
                <div class="image-upload">
                    <div id="form-image-preview" class="image-preview" role="img" aria-label="PodglƒÖd zdjƒôcia">
                        ‚úÇÔ∏è
                    </div>
                    <label class="file-input-label">
                        üì§ Zmie≈Ñ zdjƒôcie
                        <input type="file" id="image-input" accept="image/*" aria-label="Wybierz zdjƒôcie">
                    </label>
                </div>

                <div class="form-group">
                    <label for="form-name">Nazwa fryzury *</label>
                    <input type="text" id="form-name" required placeholder="np. Pompadour">
                </div>

                <div class="form-group">
                    <label for="form-length">D≈Çugo≈õƒá</label>
                    <input type="text" id="form-length" placeholder="np. Kr√≥tkie, ≈örednie">
                </div>

                <div class="form-group">
                    <label for="form-style">Styl</label>
                    <input type="text" id="form-style" placeholder="np. Klasyczny, Retro">
                </div>

                <div class="form-group">
                    <label for="form-description">Opis *</label>
                    <textarea id="form-description" required placeholder="Opisz fryzurƒô..."></textarea>
                </div>

                <div class="form-group">
                    <label for="form-tags">Tagi (oddzielone przecinkami)</label>
                    <input type="text" id="form-tags" placeholder="np. Kr√≥tkie, Klasyczny, Nowoczesny">
                </div>

                <div class="form-group">
                    <label for="form-type">Typ *</label>
                    <select id="form-type" required>
                        <option value="">Wybierz typ</option>
                        <option value="parent">Parent (g≈Ç√≥wna fryzura)</option>
                        <option value="child">Child (wariant)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="form-childrenIds">ID wariant√≥w (oddzielone przecinkami)</label>
                    <input type="text" id="form-childrenIds" placeholder="np. 11, 12, 13">
                </div>

                <div class="form-group">
                    <label for="form-parentIds">ID rodzic√≥w (oddzielone przecinkami)</label>
                    <input type="text" id="form-parentIds" placeholder="np. 1, 2">
                </div>

                <div style="border-top: 1px solid #374151; padding-top: 20px; margin-top: 20px;">
                    <h4 style="color: #fff; margin-bottom: 15px; font-size: 0.95rem;">Atrybuty</h4>
                    
                    <div class="form-group">
                        <label for="form-sides">Boki</label>
                        <select id="form-sides">
                            <option value="">Brak</option>
                            <option value="mid-fade">Mid fade</option>
                            <option value="low-fade">Low fade</option>
                            <option value="high-fade">High fade</option>
                            <option value="undercut">Undercut</option>
                            <option value="uniform">Jednolite</option>
                            <option value="long">D≈Çugie</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="form-top">G√≥ra</label>
                        <select id="form-top">
                            <option value="">Brak</option>
                            <option value="with-volume">Z objƒôto≈õciƒÖ</option>
                            <option value="slick">Zaczesane</option>
                            <option value="textured">Teksturowane</option>
                            <option value="messy">Rozczochrane</option>
                            <option value="short">Kr√≥tkie</option>
                            <option value="long">D≈Çugie</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="form-bangs">Grzywka</label>
                        <select id="form-bangs">
                            <option value="">Brak</option>
                            <option value="with-texture">Z teksturƒÖ</option>
                            <option value="swept">Zaczesana</option>
                            <option value="curtain">Kurtynowa</option>
                            <option value="none">Brak</option>
                            <option value="long">D≈Çuga</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="form-attr-style">Styl atrybutu</label>
                        <select id="form-attr-style">
                            <option value="">Brak</option>
                            <option value="classic">Klasyczny</option>
                            <option value="modern">Nowoczesny</option>
                            <option value="alternative">Alternatywny</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label for="form-emoji">Emoji</label>
                    <input type="text" id="form-emoji" placeholder="np. üë®‚Äçü¶±" maxlength="2">
                </div>

                <div class="modal-actions">
                    <button type="submit" class="btn btn-primary">
                        üíæ Zapisz
                    </button>
                    <button type="button" class="btn btn-secondary" id="modal-duplicate">
                        üìÑ Duplikuj
                    </button>
                    <button type="button" class="btn btn-secondary" id="modal-cancel">
                        Anuluj
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- JavaScript -->
    <script src="js/config.js"></script>
    <script src="js/hairstyles-data.js"></script>
    <script src="js/utils/storage.js"></script>
    <script src="js/utils/matching.js"></script>
    <script src="js/components/modal.js"></script>
    <script src="js/components/catalog.js"></script>
    <script src="js/components/builder.js"></script>
    <script src="js/components/relations-editor.js"></script>
    <script src="js/components/admin.js"></script>
    <script src="js/app.js"></script>
</body>
</html>