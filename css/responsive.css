@media (max-width: 768px) {
    .tree-node img {
        width: 50% !important;
        height: auto !important;
        aspect-ratio: 1 / 1 !important;
        border-radius: 6px !important;
        display: block;
        margin: 0 auto;
    }
    .tree-child-card img {
        width: 50% !important;
        height: auto !important;
        aspect-ratio: 1 / 1 !important;
        border-radius: 6px !important;
        display: block;
        margin: 0 auto;
    }
    .tree-child-card div[style*="font-size: 2.5rem"] {
        width: 50% !important;
        height: auto !important;
        aspect-ratio: 1 / 1 !important;
        font-size: 2rem !important;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto;
    }
}
@media (max-width: 768px) {
    .card-image {
        aspect-ratio: 1 / 1;
        height: auto !important;
        max-width: 100%;
    }
    .card-image img {
        aspect-ratio: 1 / 1;
        width: 100%;
        height: 100%;
        object-fit: cover;
    }
}
/* ===== RESPONSIVE DESIGN ===== */

/* Tablet - średnie ekrany */
@media (max-width: 1024px) {
    .container {
        max-width: 100%;
    }

    .cards-grid {
        grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
        gap: 20px;
    }

    .builder-container {
        gap: 30px;
    }
}

/* Mobile - małe ekrany */
@media (max-width: 768px) {
    body {
        padding: 15px;
    }

    h1 {
        font-size: 2rem;
        margin-bottom: 20px;
    }

    h2 {
        font-size: 1.5rem;
    }

    /* Nawigacja */
    .nav-tabs {
        flex-direction: column;
        padding: 8px;
    }

    .nav-tab {
        padding: 12px 15px;
        font-size: 14px;
    }

    /* Filtry */
    .filters-header {
        display: flex;
        gap: 8px;
        flex-wrap: wrap;
        margin-bottom: 15px;
    }

    .filters-header .btn {
        flex: 1;
        min-width: 120px;
        padding: 10px 12px;
        font-size: 13px;
    }

    .filters {
        flex-direction: column;
    }

    select {
        width: 100%;
        min-width: auto;
    }

    /* Karty */
    .cards-grid {
        grid-template-columns: 1fr;
        gap: 15px;
    }

    .card-image {
        height: 240px;
        font-size: 5rem;
    }

    .card-title {
        font-size: 1.2rem;
    }

    /* Builder */
    .builder-container {
        grid-template-columns: 1fr;
        gap: 25px;
    }

    .match-image {
        aspect-ratio: 1 / 1;
        max-width: 350px;
        font-size: 6rem;
    }

    /* Admin */
    .admin-header {
        flex-direction: column;
        align-items: stretch;
    }

    .admin-header h2 {
        margin-bottom: 10px;
    }

    .admin-item {
        flex-direction: column;
        gap: 15px;
        padding: 15px;
    }

    .admin-item-left {
        width: 100%;
    }

    .admin-actions {
        width: 100%;
        justify-content: stretch;
    }

    .admin-actions .btn {
        flex: 1;
        justify-content: center;
        font-size: 13px;
        padding: 10px 15px;
    }

    /* Modal */
    .modal {
        padding: 10px;
    }

    .modal-content {
        padding: 20px;
        max-height: 95vh;
    }

    .modal-header h2 {
        font-size: 1.3rem;
    }

    .image-preview {
        width: 150px;
        height: 150px;
        font-size: 3rem;
    }

    .modal-actions {
        flex-direction: column;
    }

    .modal-actions .btn {
        width: 100%;
    }

    /* Footer */
    footer {
        margin-top: 40px;
        padding-top: 20px;
    }

    .footer-content {
        flex-direction: column;
        gap: 15px;
    }

    footer .nav-tab {
        width: 100%;
    }
}

/* Bardzo małe ekrany */
@media (max-width: 480px) {
    body {
        padding: 12px;
    }

    h1 {
        font-size: 1.5rem;
        margin-bottom: 15px;
    }

    /* Przyciski w headerze - kompaktowe */
    .filters-header {
        gap: 5px;
        margin-bottom: 12px;
    }

    .filters-header .btn {
        min-width: 90px;
        padding: 8px 10px;
        font-size: 12px;
        flex: 1;
    }

    /* Filtry */
    .filters {
        padding: 12px;
        gap: 10px;
    }

    select {
        padding: 8px 10px;
        font-size: 12px;
    }

    /* Karty */
    .card-image {
        height: 200px;
        font-size: 4rem;
    }

    .card-content {
        padding: 15px;
    }

    .card-title {
        font-size: 1.1rem;
    }

    /* Admin */
    .admin-thumb {
        width: 60px;
        height: 60px;
        font-size: 1.8rem;
    }

    .admin-info h3 {
        font-size: 1rem;
    }

    .btn {
        padding: 10px 16px;
        font-size: 13px;
    }

    /* Builder */
    .match-image {
        aspect-ratio: 1 / 1;
        max-width: 280px;
        font-size: 5rem;
    }
}

/* Bardzo duże ekrany */
@media (min-width: 1600px) {
    .container {
        max-width: 1600px;
    }

    .cards-grid {
        grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
    }

    h1 {
        font-size: 3.5rem;
    }
}

/* Orientacja pozioma na urządzeniach mobilnych */
@media (max-height: 600px) and (orientation: landscape) {
    .modal-content {
        max-height: 85vh;
    }

    .match-image {
        aspect-ratio: 1 / 1;
        max-width: 300px;
    }

    .card-image {
        height: 200px;
    }
}

/* Tryb druku */
@media print {
    body {
        background: white;
        color: black;
        padding: 0;
    }

    .nav-tabs,
    .filters,
    .favorite-btn,
    .admin-actions,
    .btn,
    footer {
        display: none !important;
    }

    .card,
    .admin-item {
        border: 1px solid #000;
        page-break-inside: avoid;
    }

    .card-image,
    .admin-thumb {
        background: #f0f0f0;
    }
}

/* Preferencje użytkownika - reduced motion */
@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

/* Preferencje użytkownika - dark mode (już jest ciemny, ale dla kompletności) */
@media (prefers-color-scheme: light) {
    /* Opcjonalnie: możesz dodać jasny motyw tutaj w przyszłości */
}